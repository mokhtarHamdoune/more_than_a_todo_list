(this.webpackJsonphtrn_frontend=this.webpackJsonphtrn_frontend||[]).push([[0],{16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(7),r=a.n(i),l=(a(16),a(6)),c=a(4),o=a(3),d=a(8),u=a(9),h=a(2),b=a(11),m=a(10),j=a(0);var g=function(e){return Object(j.jsx)("div",{className:"w-full py-2 pl-6  bg-gray-200 border-b-2 border-white",children:Object(j.jsx)("img",{src:"images/logo.svg",className:"h-12",alt:"the logo"})})},x=function(e){var t=e.task,a=e.removeTask,s=e.extendTask,n=e.editeTask;return Object(j.jsxs)("div",{className:"w-full bg-gray-50 p-1 mb-0.5 border border-gray-300",children:[Object(j.jsxs)("div",{className:"flex justify-end items-center px-3 space-x-2 ",children:[Object(j.jsx)("img",{src:"images/extend.png",onClick:function(){return s(t._id)},className:"h-6 p-0.5  cursor-pointer rounded-full hover:shadow-md hover:bg-black hover:bg-opacity-20",alt:"notify me"}),Object(j.jsx)("img",{src:"images/notification.png",className:"h-6 p-0.5 cursor-pointer rounded-full hover:shadow-md hover:bg-black hover:bg-opacity-20",alt:"notify me"}),Object(j.jsx)("img",{src:"images/edit.png",onClick:function(){return n(t._id)},className:"h-6 p-0.5 cursor-pointer rounded-full hover:shadow-md hover:bg-black hover:bg-opacity-20",alt:"edit item"}),Object(j.jsx)("img",{src:"images/delete.png",onClick:function(){return a(t._id)},className:"h-6 p-0.5 cursor-pointer rounded-full hover:shadow-md hover:bg-black hover:bg-opacity-20",alt:"delete item"})]}),Object(j.jsx)("div",{className:"p-2",children:Object(j.jsx)("p",{className:"bg-white h-14 p-1 overflow-hidden rounded-md border border-gray-300 whitespace-pre-line",children:t.task})})]})};var f=function(e){var t=e.newTask,a=e.errors,s=e.isvalide,n=e.handleTaskChange,i=e.handleSubmit,r=e.handleBlure,l=t.task,c=t.date,o=t.time;return Object(j.jsxs)("form",{className:"w-full px-2 md:px-8 py-2",onSubmit:i,children:[Object(j.jsx)("h1",{className:"text-yellow-300 text-5xl text-center py-2 mb-12 font-new-task ",children:"Create New Task"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"task",className:"block text-lg text-gray-600 font-bold",children:"Task's text *"}),Object(j.jsx)("textarea",{name:"task",id:"task",value:l,onChange:n,onBlur:r,className:"w-full resize-none  outline-none p-1 h-48 shadow-md border border-gray-200 focus:ring-2 focus:ring-yellow-400"}),Object(j.jsx)("p",{className:"text-sm text-red-400 h-2",children:s.task||a.task})]}),Object(j.jsxs)("div",{className:"mt-4  flex flex-col md:flex-row justify-between  ",children:[Object(j.jsxs)("div",{className:"w-full md:w-2/5",children:[Object(j.jsx)("label",{htmlFor:"date",className:"block text-lg text-gray-600 font-bold",children:"Remind me on *"}),Object(j.jsx)("input",{type:"date",name:"date",id:"date",value:c,onChange:n,onBlur:r,className:"p-2 w-full  outline-none shadow-md border border-gray-200 focus:ring-2 focus:ring-yellow-400"}),Object(j.jsx)("p",{className:"text-sm text-red-400 h-2",children:s.date||a.date})]}),Object(j.jsxs)("div",{className:"w-full mt-1 md:mt-0 md:w-2/5",children:[Object(j.jsx)("label",{htmlFor:"time",className:"block text-lg text-gray-600 font-bold",children:"At *"}),Object(j.jsx)("input",{type:"time",name:"time",id:"time",value:o,onChange:n,onBlur:r,className:"p-2 w-full  outline-none shadow-md border border-gray-200 focus:ring-2 focus:ring-yellow-400"}),Object(j.jsx)("p",{className:"text-sm text-red-400 h-2",children:s.time||a.time})]})]}),Object(j.jsx)("button",{type:"submit",className:"py-2 px-8 my-8 bg-yellow-300 text-xl text-white rounded shadow-xl hover:bg-yellow-400 float-right",children:"CREATE"})]})},k=function(e){var t=e.tasks,a=e.addTask,s=e.removeTask,n=e.extendTask,i=e.editeTask,r=e.newTask,l=e.errors,c=e.isvalide,o=e.handleTaskChange,d=e.handleBlure,u=e.handleSubmit;return Object(j.jsxs)("div",{className:"flex flex-col-reverse md:flex-row",children:[Object(j.jsxs)("div",{className:"w-full md:w-2/5",children:[Object(j.jsx)("h1",{className:"w-full  text-center text-4xl py-2 font-tasks border-b border-gray-300  text-gray-400",children:"Tasks"}),Object(j.jsx)("div",{className:"p-0.5 bg-white  h-screen overflow-y-scroll todo-body",children:t.map((function(e){return Object(j.jsx)(x,{task:e,removeTask:s,extendTask:n,editeTask:i},e._id)}))})]}),Object(j.jsx)("div",{className:"w-full md:w-3/5 bg-gray-500 bg-form-bg",children:Object(j.jsx)(f,{newTask:r,errors:l,isvalide:c,addTask:a,handleTaskChange:o,handleSubmit:u,handleBlure:d})})]})};var p=function(e){var t=e.task,a=e.modalIsOpen,s=e.toggle;return Object(j.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex justify-center items-center ".concat(a?"block":"hidden"," "),onClick:function(){return s()},children:Object(j.jsxs)("div",{className:"w-4/6 sm:w-2/5 bg-white bg-opacity-90 shadow-md border border-gray-100 rounded-md  animate-modal",children:[Object(j.jsx)("p",{className:"h-56 p-4 overflow-y-scroll whitespace-pre-line",children:t.task}),Object(j.jsxs)("div",{className:"h-12 px-5  flex justify-end items-center text-md  border-t border-gray-200",children:[Object(j.jsx)("img",{src:"images/calendar.png",className:"h-6 p-0.5",alt:"calender"}),Object(j.jsx)("span",{children:t.date}),Object(j.jsx)("img",{src:"images/time_circle.png",className:"h-6 p-0.5",alt:"calender"}),Object(j.jsx)("span",{children:t.time})]})]})})};var O=function(){return Object(j.jsx)("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-white bg-opacity-60",children:Object(j.jsxs)("svg",{width:"115",height:"115",viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg",fill:"#FBBF24",children:[Object(j.jsx)("circle",{cx:"12.5",cy:"12.5",r:"12.5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})}),Object(j.jsx)("circle",{cx:"12.5",cy:"52.5",r:"12.5",fillOpacity:".5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})}),Object(j.jsx)("circle",{cx:"52.5",cy:"12.5",r:"12.5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})}),Object(j.jsx)("circle",{cx:"52.5",cy:"52.5",r:"12.5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})}),Object(j.jsx)("circle",{cx:"92.5",cy:"12.5",r:"12.5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})}),Object(j.jsx)("circle",{cx:"92.5",cy:"52.5",r:"12.5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})}),Object(j.jsx)("circle",{cx:"12.5",cy:"92.5",r:"12.5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})}),Object(j.jsx)("circle",{cx:"52.5",cy:"92.5",r:"12.5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})}),Object(j.jsx)("circle",{cx:"92.5",cy:"92.5",r:"12.5",children:Object(j.jsx)("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})})]})})},v={task:function(e){return e?e.trim().length<10?"Task text should be  at least ten characters":null:"Task text is required"},date:function(e){return e?e<(new Date).toISOString().substring(0,10)?"Date must be great or equal to today":null:"Date is required"},time:function(e,t){var a=new Date;return e?t===a.toISOString().substring(0,10)&&e<a.toTimeString()?"Time must be greater than today's time":null:"Time is required"}},w={task:"",date:"",time:""},y={taks:!1,date:!1,time:!1},T=function(e){Object(b.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={tasks:[],newTask:{task:"",date:"",time:""},modalIsOpen:!1,loading:!1},s.extededTask={task:"",date:"",time:""},s.addTask=s.addTask.bind(Object(h.a)(s)),s.removeTask=s.removeTask.bind(Object(h.a)(s)),s.extendTask=s.extendTask.bind(Object(h.a)(s)),s.toggleModal=s.toggleModal.bind(Object(h.a)(s)),s.editeTask=s.editeTask.bind(Object(h.a)(s)),s.handleTaskChange=s.handleTaskChange.bind(Object(h.a)(s)),s.handleBlure=s.handleBlure.bind(Object(h.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"handleTaskChange",value:function(e){var t=e.target,a=t.name,s=t.value;w[a]="time"===a?v[a](s,this.state.newTask.date):v[a](s),y[a]=null==w[a],this.setState({newTask:Object(o.a)(Object(o.a)({},this.state.newTask),{},Object(c.a)({},a,s))})}},{key:"handleBlure",value:function(e){var t=e.target,a=t.name,s=t.value;w[a]="time"===a?v[a](s,this.state.newTask.date):v[a](s),y[a]=null==w[a],this.setState({newTask:Object(o.a)({},this.state.newTask)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.newTask,a=t.task,s=t.date,n=t.time;w.task=v.task(a),w.date=v.date(s),w.time=v.time(n,s),y.task=null==w.task,y.date=null==w.date,y.time=null==w.time,y.task&&y.date&&y.time?this.addTask():this.setState({newTask:Object(o.a)({},this.state.newTask)})}},{key:"addTask",value:function(){var e=this;this.setState({loading:!0}),fetch("http://localhost:5000/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.newTask)}).then((function(e){if(e.ok)return e.json();throw new Error("Somthing went rong status :"+e.status+" status text: "+e.statusText)}),(function(e){return new Error(e.errorMessage)})).then((function(t){e.setState({tasks:[].concat(Object(l.a)(e.state.tasks),[t]),newTask:{task:"",date:"",time:""},loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"removeTask",value:function(e){var t=this;this.setState({loading:!0}),fetch("http://localhost:5000/api/tasks",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:e})}).then((function(e){if(e.ok)return e.json();throw new Error("Somthing went rong status :"+e.status+" status text: "+e.statusText)}),(function(e){throw new Error(e.errorMessage)})).then((function(e){t.setState({tasks:t.state.tasks.filter((function(t){return t._id!==e.id})),loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"editeTask",value:function(e){this.setState({newTask:this.state.tasks.find((function(t){return t._id===e}))}),this.removeTask(e)}},{key:"extendTask",value:function(e){this.extededTask=Object(o.a)({},this.state.tasks.find((function(t){return t._id===e}))),this.toggleModal()}},{key:"toggleModal",value:function(){this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/api/tasks").then((function(e){if(e.ok)return e.json();throw new Error("somthing went wrong status: "+e.status+" status text: "+e.statusText)}),(function(e){throw new Error(e.errorMessage)})).then((function(t){e.setState({tasks:Object(l.a)(t),loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.tasks,a=e.modalIsOpen,s=e.newTask,n=e.loading;return Object(j.jsxs)("div",{className:"w-full",children:[n?Object(j.jsx)(O,{}):"",Object(j.jsx)(p,{task:this.extededTask,modalIsOpen:a,toggle:this.toggleModal}),Object(j.jsx)(g,{}),Object(j.jsx)(k,{tasks:t,addTask:this.addTask,removeTask:this.removeTask,extendTask:this.extendTask,editeTask:this.editeTask,newTask:s,errors:w,isvalide:y,handleTaskChange:this.handleTaskChange,handleBlure:this.handleBlure,handleSubmit:this.handleSubmit})]})}}]),a}(n.a.Component);var N=function(){return Object(j.jsx)(T,{})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),i(e),r(e)}))};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),C()}},[[18,1,2]]]);
//# sourceMappingURL=main.a72e31bb.chunk.js.map